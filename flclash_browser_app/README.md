# FlClashæµè§ˆå™¨é›†æˆåº”ç”¨

è¿™æ˜¯ä¸€ä¸ªé›†æˆäº†æµè§ˆå™¨åŠŸèƒ½çš„FlClashä»£ç†å®¢æˆ·ç«¯ï¼Œæ”¯æŒåœ¨å•ä¸ªåº”ç”¨ä¸­å®Œæˆä»£ç†é…ç½®å’Œç½‘é¡µæµè§ˆã€‚

## åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- ğŸŒ **å†…ç½®æµè§ˆå™¨**: åŸºäºflutter_inappwebviewçš„é«˜æ€§èƒ½WebView
- ğŸ”’ **ä»£ç†é›†æˆ**: ä¸FlClashä»£ç†å¼•æ“æ— ç¼é›†æˆ
- ğŸ“± **å¤šæ ‡ç­¾é¡µ**: æ”¯æŒå¤šæ ‡ç­¾æµè§ˆï¼Œæ ‡ç­¾é¡µç®¡ç†
- ğŸ”– **ä¹¦ç­¾ç®¡ç†**: ä¹¦ç­¾æ·»åŠ ã€ç¼–è¾‘ã€åˆ†ç±»ç®¡ç†
- ğŸ“œ **å†å²è®°å½•**: å®Œæ•´çš„æµè§ˆå†å²è®°å½•å’Œæœç´¢åŠŸèƒ½
- âš™ï¸ **ç»Ÿä¸€è®¾ç½®**: é›†æˆæµè§ˆå™¨å’Œä»£ç†è®¾ç½®ç•Œé¢

### é«˜çº§åŠŸèƒ½
- ğŸ¨ **å“åº”å¼è®¾è®¡**: æ”¯æŒå¤šç§å±å¹•å°ºå¯¸å’Œè®¾å¤‡
- ğŸŒ™ **ä¸»é¢˜åˆ‡æ¢**: æ”¯æŒæ˜æš—ä¸»é¢˜æ¨¡å¼
- ğŸ” **æ•°æ®åŠ å¯†**: æ•æ„Ÿæ•°æ®AES-256-GCMåŠ å¯†å­˜å‚¨
- ğŸ“Š **æ€§èƒ½ç›‘æ§**: å®æ—¶æ€§èƒ½ç›‘æ§å’Œä¼˜åŒ–
- ğŸ›¡ï¸ **éšç§ä¿æŠ¤**: GDPRåˆè§„çš„æ•°æ®å¤„ç†
- ğŸš€ **æ€§èƒ½ä¼˜åŒ–**: å†…å­˜ç®¡ç†ã€ç¼“å­˜ç­–ç•¥ã€åå°å†»ç»“

## é¡¹ç›®ç»“æ„

```
flclash_browser_app/
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ main.dart                 # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ models/                   # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ BrowserTab.dart       # æµè§ˆå™¨æ ‡ç­¾é¡µæ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ Bookmark.dart         # ä¹¦ç­¾æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ HistoryEntry.dart     # å†å²è®°å½•æ¨¡å‹
â”‚   â”‚   â””â”€â”€ BrowserSettings.dart  # æµè§ˆå™¨è®¾ç½®æ¨¡å‹
â”‚   â”œâ”€â”€ services/                 # ä¸šåŠ¡æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ browser_ffi_service.dart    # FFIé€šä¿¡æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ database_service.dart       # æ•°æ®åº“æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ encryption_service.dart     # åŠ å¯†æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ settings_service.dart       # è®¾ç½®æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ traffic_monitor.dart        # æµé‡ç›‘æ§
â”‚   â”‚   â””â”€â”€ performance_service.dart    # æ€§èƒ½æœåŠ¡
â”‚   â”œâ”€â”€ widgets/                  # UIç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ tab_manager.dart           # æ ‡ç­¾é¡µç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ browser_webview.dart       # WebViewç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ browser_toolbar.dart       # æµè§ˆå™¨å·¥å…·æ 
â”‚   â”‚   â”œâ”€â”€ bookmark_item.dart         # ä¹¦ç­¾é¡¹ç»„ä»¶
â”‚   â”‚   â””â”€â”€ history_item.dart          # å†å²è®°å½•é¡¹ç»„ä»¶
â”‚   â”œâ”€â”€ pages/                    # é¡µé¢
â”‚   â”‚   â”œâ”€â”€ browser_page.dart          # æµè§ˆå™¨ä¸»é¡µé¢
â”‚   â”‚   â”œâ”€â”€ bookmarks_page.dart        # ä¹¦ç­¾é¡µé¢
â”‚   â”‚   â”œâ”€â”€ history_page.dart          # å†å²è®°å½•é¡µé¢
â”‚   â”‚   â”œâ”€â”€ unified_settings_page.dart # ç»Ÿä¸€è®¾ç½®é¡µé¢
â”‚   â”‚   â””â”€â”€ onboarding_page.dart       # å¼•å¯¼é¡µé¢
â”‚   â”œâ”€â”€ providers/                # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ browser_providers.dart     # æµè§ˆå™¨çŠ¶æ€
â”‚   â”‚   â””â”€â”€ shared_state_provider.dart # å…±äº«çŠ¶æ€
â”‚   â”œâ”€â”€ utils/                    # å·¥å…·ç±»
â”‚   â”‚   â”œâ”€â”€ cache_manager.dart         # ç¼“å­˜ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ memory_manager.dart        # å†…å­˜ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ proxy_validator.dart       # ä»£ç†éªŒè¯
â”‚   â”‚   â””â”€â”€ security_validator.dart    # å®‰å…¨éªŒè¯
â”‚   â”œâ”€â”€ themes/                   # ä¸»é¢˜
â”‚   â”‚   â””â”€â”€ browser_theme.dart         # æµè§ˆå™¨ä¸»é¢˜
â”‚   â””â”€â”€ data/                     # æ•°æ®
â”‚       â””â”€â”€ help_content.dart          # å¸®åŠ©å†…å®¹
â”œâ”€â”€ android/                      # Androidé…ç½®
â”œâ”€â”€ assets/                       # èµ„æºæ–‡ä»¶
â”‚   â”œâ”€â”€ images/                   # å›¾ç‰‡èµ„æº
â”‚   â”œâ”€â”€ icons/                    # å›¾æ ‡èµ„æº
â”‚   â””â”€â”€ fonts/                    # å­—ä½“æ–‡ä»¶
â””â”€â”€ pubspec.yaml                  # é¡¹ç›®é…ç½®
```

## å®‰è£…å’Œæ„å»º

### ç¯å¢ƒè¦æ±‚
- Flutter SDK >= 3.0.0
- Dart SDK >= 3.0.0
- Android SDK (API 21+)
- Android Studio / VS Code

### å®‰è£…ä¾èµ–
```bash
cd flclash_browser_app
flutter pub get
```

### æ„å»ºAPK
```bash
# Debugç‰ˆæœ¬
flutter build apk --debug

# Releaseç‰ˆæœ¬
flutter build apk --release

# ç‰¹å®šæ¶æ„
flutter build apk --release --target-platform android-arm64
```

### è¿è¡Œåº”ç”¨
```bash
# è¿æ¥Androidè®¾å¤‡
flutter devices

# è¿è¡Œåº”ç”¨
flutter run
```

## é…ç½®è¯´æ˜

### æƒé™é…ç½®
åº”ç”¨éœ€è¦ä»¥ä¸‹æƒé™ï¼š
- ç½‘ç»œæƒé™ (Internet)
- å­˜å‚¨æƒé™ (Storage)
- é€šçŸ¥æƒé™ (Notification)
- ç½‘ç»œçŠ¶æ€æƒé™ (Network State)

### ä»£ç†é›†æˆ
æµè§ˆå™¨æµé‡é€šè¿‡FFIæ¥å£ä¸FlClashä»£ç†å¼•æ“é›†æˆï¼š
- HTTP/HTTPSä»£ç†æ”¯æŒ
- SOCKS5ä»£ç†æ”¯æŒ
- è‡ªåŠ¨ä»£ç†é…ç½®
- æµé‡ç›‘æ§å’Œç»Ÿè®¡

### æ•°æ®å­˜å‚¨
- SQLiteæ•°æ®åº“å­˜å‚¨ä¹¦ç­¾å’Œå†å²è®°å½•
- SharedPreferenceså­˜å‚¨åº”ç”¨è®¾ç½®
- AES-256-GCMåŠ å¯†æ•æ„Ÿæ•°æ®
- è‡ªåŠ¨æ•°æ®å¤‡ä»½å’Œæ¢å¤

## å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½
1. åœ¨å¯¹åº”ç›®å½•åˆ›å»ºæ–‡ä»¶
2. æ›´æ–°pubspec.yamlæ·»åŠ ä¾èµ–
3. è¿è¡Œ`flutter pub get`
4. æµ‹è¯•åŠŸèƒ½å®Œæ•´æ€§

### ä»£ç è§„èŒƒ
- ä½¿ç”¨Flutter/Dartå®˜æ–¹ä»£ç è§„èŒƒ
- æ·»åŠ å……åˆ†çš„æ³¨é‡Šå’Œæ–‡æ¡£
- éµå¾ªMaterial Designè®¾è®¡è§„èŒƒ
- å®ç°å“åº”å¼å¸ƒå±€

### æµ‹è¯•
```bash
# å•å…ƒæµ‹è¯•
flutter test

# é›†æˆæµ‹è¯•
flutter test integration_test/

# ä»£ç è¦†ç›–ç‡
flutter test --coverage
```

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**1. ä¾èµ–å†²çª**
```bash
flutter clean
flutter pub get
```

**2. æ„å»ºå¤±è´¥**
```bash
flutter clean
flutter pub upgrade
flutter build apk
```

**3. æƒé™é—®é¢˜**
æ£€æŸ¥AndroidManifest.xmlä¸­çš„æƒé™é…ç½®ï¼Œç¡®ä¿æ‰€æœ‰å¿…è¦æƒé™éƒ½å·²å£°æ˜ã€‚

**4. FFIé›†æˆé—®é¢˜**
ç¡®è®¤Goåç«¯åº“æ­£ç¡®ç¼–è¯‘å¹¶æ”¾ç½®åœ¨æ­£ç¡®è·¯å¾„ã€‚

### æ€§èƒ½ä¼˜åŒ–
- å®šæœŸæ¸…ç†ç¼“å­˜å’Œå†å²è®°å½•
- ç›‘æ§å†…å­˜ä½¿ç”¨æƒ…å†µ
- ä¼˜åŒ–å›¾ç‰‡å’Œèµ„æºåŠ è½½
- ä½¿ç”¨æ‡’åŠ è½½ç­–ç•¥

## è´¡çŒ®æŒ‡å—

1. Forké¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯Pull Request

## è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäºMITè®¸å¯è¯å¼€æºã€‚è¯¦æƒ…è¯·æŸ¥çœ‹LICENSEæ–‡ä»¶ã€‚

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š
- æäº¤Issue
- å‘é€é‚®ä»¶
- åŠ å…¥è®¨è®ºç¾¤

---

**æ³¨æ„**: æœ¬åº”ç”¨éœ€è¦ä¸FlClashä¸»åº”ç”¨é…åˆä½¿ç”¨ï¼Œç¡®ä¿FlClashä»£ç†å¼•æ“æ­£å¸¸è¿è¡Œã€‚