# FlClashæµè§ˆå™¨é›†æˆ - å¿«é€Ÿæ„å»ºæŒ‡å—

## ğŸ¯ é—®é¢˜è§£å†³

ä½ é‡åˆ°çš„ä»¥ä¸‹é—®é¢˜éƒ½å·²ç»è§£å†³ï¼š

1. âœ… **`target file lib/main.dart not found`** - åˆ›å»ºäº†å®Œæ•´çš„Flutteré¡¹ç›®ç»“æ„
2. âœ… **Android v1 embeddingæ„å»ºå¤±è´¥** - é…ç½®äº†å®Œæ•´çš„Androidé¡¹ç›®æ–‡ä»¶
3. âœ… **ä¾èµ–é—®é¢˜** - ç§»é™¤äº†æ— æ•ˆçš„performance_monitorä¾èµ–
4. âœ… **æ–‡ä»¶åå¤§å°å†™å†²çª** - åˆ é™¤äº†é‡å¤çš„Bookmark.dartæ–‡ä»¶

## ğŸ“‹ æœ€æ–°ä¿®å¤ (2025-11-06)

### æ–‡ä»¶åå†²çªè§£å†³
- **é—®é¢˜**: å­˜åœ¨`Bookmark.dart`å’Œ`bookmark.dart`ä¸¤ä¸ªæ–‡ä»¶å¯¼è‡´æ–‡ä»¶ç³»ç»Ÿä¸è¯†åˆ«
- **è§£å†³**: åˆ é™¤é‡å¤çš„`Bookmark.dart`ï¼Œä¿ç•™`bookmark.dart`
- **æ–‡æ¡£**: æŸ¥çœ‹ `FILENAME_CONFLICT_FIX.md` äº†è§£è¯¦æƒ…

## ğŸ“ é¡¹ç›®ç»“æ„

```
flclash_browser_app/
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ main.dart                 âœ… åº”ç”¨å…¥å£æ–‡ä»¶ï¼ˆå·²åˆ›å»ºï¼‰
â”‚   â”œâ”€â”€ models/                   âœ… æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ services/                 âœ… ä¸šåŠ¡æœåŠ¡
â”‚   â”œâ”€â”€ widgets/                  âœ… UIç»„ä»¶
â”‚   â”œâ”€â”€ pages/                    âœ… é¡µé¢
â”‚   â”œâ”€â”€ providers/                âœ… çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ utils/                    âœ… å·¥å…·ç±»
â”‚   â”œâ”€â”€ themes/                   âœ… ä¸»é¢˜
â”‚   â””â”€â”€ data/                     âœ… æ•°æ®
â”œâ”€â”€ android/                      âœ… Androidé…ç½®
â”œâ”€â”€ assets/                       âœ… èµ„æºæ–‡ä»¶
â”œâ”€â”€ pubspec.yaml                  âœ… é¡¹ç›®é…ç½®
â””â”€â”€ README.md                     âœ… é¡¹ç›®æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. è¿›å…¥é¡¹ç›®ç›®å½•
```bash
cd flclash_browser_app
```

### 2. å®‰è£…ä¾èµ–
```bash
flutter pub get
```

### 3. æ£€æŸ¥é¡¹ç›®
```bash
flutter doctor
```

### 4. è¿è¡Œåº”ç”¨
```bash
# è¿æ¥Androidè®¾å¤‡åè¿è¡Œ
flutter run

# æˆ–è€…æ„å»ºAPK
flutter build apk
```

## ğŸ”§ æ„å»ºé€‰é¡¹

### Debugç‰ˆæœ¬ï¼ˆå¼€å‘æµ‹è¯•ï¼‰
```bash
flutter build apk --debug
```

### Releaseç‰ˆæœ¬ï¼ˆç”Ÿäº§å‘å¸ƒï¼‰
```bash
flutter build apk --release
```

### ç‰¹å®šæ¶æ„ä¼˜åŒ–
```bash
# ARM64 (ç°ä»£è®¾å¤‡)
flutter build apk --release --target-platform android-arm64

# ARM32 (è€è®¾å¤‡å…¼å®¹)
flutter build apk --release --target-platform android-arm

# é€šç”¨ç‰ˆæœ¬ (æ‰€æœ‰è®¾å¤‡)
flutter build apk --release
```

## ğŸ“± åŠŸèƒ½ç‰¹æ€§

### âœ… å·²å®ç°åŠŸèƒ½
- **å†…ç½®æµè§ˆå™¨**: åŸºäºflutter_inappwebview
- **å¤šæ ‡ç­¾é¡µç®¡ç†**: æ”¯æŒæ ‡ç­¾é¡µåˆ‡æ¢ã€å…³é—­ã€é‡æ–°æ’åº
- **ä¹¦ç­¾ç³»ç»Ÿ**: æ·»åŠ ã€ç¼–è¾‘ã€åˆ†ç±»ç®¡ç†ä¹¦ç­¾
- **å†å²è®°å½•**: å®Œæ•´çš„æµè§ˆå†å²å’Œæœç´¢åŠŸèƒ½
- **ä»£ç†é›†æˆ**: ä¸FlClashä»£ç†å¼•æ“é›†æˆ
- **ç»Ÿä¸€è®¾ç½®**: æµè§ˆå™¨å’Œä»£ç†è®¾ç½®ç•Œé¢
- **ä¸»é¢˜åˆ‡æ¢**: æ˜æš—ä¸»é¢˜æ”¯æŒ
- **æ€§èƒ½ä¼˜åŒ–**: å†…å­˜ç®¡ç†ã€ç¼“å­˜ç­–ç•¥
- **æ•°æ®åŠ å¯†**: AES-256-GCMæ•æ„Ÿæ•°æ®ä¿æŠ¤

### ğŸ¨ ç•Œé¢ç‰¹è‰²
- **Material Design 3**: ç°ä»£åŒ–UIè®¾è®¡
- **å“åº”å¼å¸ƒå±€**: æ”¯æŒå¤šç§å±å¹•å°ºå¯¸
- **æµç•…åŠ¨ç”»**: é¡µé¢åˆ‡æ¢å’Œäº¤äº’åŠ¨ç”»
- **åº•éƒ¨å¯¼èˆª**: æµè§ˆå™¨ã€ä¹¦ç­¾ã€å†å²ã€è®¾ç½®

## ğŸ› ï¸ å¼€å‘å·¥å…·

### æ¨èIDE
- **Android Studio**: å®˜æ–¹æ¨èï¼ŒåŠŸèƒ½å®Œæ•´
- **VS Code**: è½»é‡çº§ï¼Œæ’ä»¶ä¸°å¯Œ
- **IntelliJ IDEA**: åŠŸèƒ½å¼ºå¤§çš„Java/Kotlinå¼€å‘

### å¿…å¤‡æ’ä»¶
- Flutter
- Dart
- Flutter Widget Inspector
- Git

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜è§£å†³

**1. ä¾èµ–å†²çª**
```bash
flutter clean
flutter pub get
```

**2. æ„å»ºå¤±è´¥**
```bash
flutter clean
flutter pub upgrade
flutter build apk --release
```

**3. è®¾å¤‡è¿æ¥é—®é¢˜**
```bash
flutter devices
adb devices  # æ£€æŸ¥Androidè®¾å¤‡
```

**4. æƒé™é—®é¢˜**
ç¡®ä¿AndroidManifest.xmlåŒ…å«å¿…è¦æƒé™ï¼š
- INTERNET
- ACCESS_NETWORK_STATE
- READ_EXTERNAL_STORAGE
- WRITE_EXTERNAL_STORAGE

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### æ„å»ºä¼˜åŒ–
```bash
# å¯ç”¨ä»£ç æ··æ·†
flutter build apk --release --obfuscate --split-debug-info=build/debug-info/

# å‡å°‘åŒ…å¤§å°
flutter build apk --release --tree-shake-icons --split-debug-info=build/debug-info/
```

### åº”ç”¨ä¼˜åŒ–
- å®šæœŸæ¸…ç†ç¼“å­˜
- ç›‘æ§å†…å­˜ä½¿ç”¨
- ä¼˜åŒ–å›¾ç‰‡èµ„æº
- ä½¿ç”¨æ‡’åŠ è½½

## ğŸ¤– GitHub Actions è‡ªåŠ¨åŒ–

### å¿«é€Ÿä½¿ç”¨GitHub Actions

#### 1. æ–‡ä»¶è§£å‹å’Œæäº¤
```bash
# æ‰‹åŠ¨è§¦å‘æ­¥éª¤
1. è¿›å…¥GitHubä»“åº“ â†’ Actions
2. é€‰æ‹©"è§£å‹æ–‡ä»¶å¹¶æäº¤"å·¥ä½œæµ
3. ç‚¹å‡»"Run workflow"
4. å¡«å†™å‚æ•°:
   - æ–‡ä»¶å‹ç¼©åŒ…è·¯å¾„: uploads/my-files.zip
   - è§£å‹ç›®æ ‡è·¯å¾„: . (é¡¹ç›®æ ¹ç›®å½•)
   - æäº¤ä¿¡æ¯: "chore: æ›´æ–°é¡¹ç›®æ–‡ä»¶"
5. ç‚¹å‡»è¿è¡Œ
```

#### 2. æ„å»ºAPK
```bash
# è‡ªåŠ¨æ„å»º (æ¨é€åˆ°mainåˆ†æ”¯)
git add .
git commit -m "feat: æ·»åŠ æ–°åŠŸèƒ½"
git push origin main
# â†’ è‡ªåŠ¨è§¦å‘æ„å»º

# æ‰‹åŠ¨æ„å»º
1. è¿›å…¥GitHubä»“åº“ â†’ Actions
2. é€‰æ‹©"æ„å»ºAPK"å·¥ä½œæµ
3. ç‚¹å‡»"Run workflow"
4. é€‰æ‹©æ„å»ºç±»å‹: debug æˆ– release
5. ç‚¹å‡»è¿è¡Œ
```

#### 3. é…ç½®ç­¾å (Releaseæ„å»º)
```bash
# é¦–æ¬¡è®¾ç½®ç­¾å
1. è¿›å…¥GitHubä»“åº“ â†’ Actions
2. é€‰æ‹©"é…ç½®Androidç­¾å"å·¥ä½œæµ
3. ç‚¹å‡»"Run workflow"
4. æŒ‰ç…§ç”Ÿæˆçš„æŒ‡å—é…ç½®GitHub Secrets:
   - KEYSTORE_FILE (base64ç¼–ç çš„å¯†é’¥åº“)
   - KEYSTORE_PASSWORD
   - KEY_ALIAS
   - KEY_PASSWORD
```

### ğŸ“ GitHub Actions æ–‡ä»¶ç»“æ„
```
flclash_browser_app/
â”œâ”€â”€ .github/workflows/
â”‚   â”œâ”€â”€ extract-and-commit.yml    # æ–‡ä»¶è§£å‹æäº¤
â”‚   â”œâ”€â”€ build-apk.yml             # APKæ„å»º
â”‚   â””â”€â”€ setup-signing.yml         # ç­¾åé…ç½®
â”œâ”€â”€ GITHUB_ACTIONS.md             # è¯¦ç»†ä½¿ç”¨æŒ‡å—
â”œâ”€â”€ GITHUB_ACTIONS_FILES.md       # æ–‡ä»¶æ¸…å•
â””â”€â”€ QUICK_START.md                # æœ¬å¿«é€Ÿå…¥é—¨
```

### âš¡ å¸¸ç”¨æ“ä½œ

#### æ‰¹é‡æ›´æ–°é¡¹ç›®æ–‡ä»¶
1. å‡†å¤‡zipå‹ç¼©åŒ…
2. ä¸Šä¼ åˆ° `uploads/` ç›®å½•
3. è¿è¡Œ"è§£å‹æ–‡ä»¶å¹¶æäº¤"å·¥ä½œæµ
4. å¡«å†™: `uploads/your-file.zip` â†’ `.` â†’ æäº¤ä¿¡æ¯

#### å¼€å‘è°ƒè¯•
1. æ¨é€ä»£ç  â†’ è‡ªåŠ¨æ„å»ºDebug APK
2. ä¸‹è½½æ„å»ºäº§ç‰©è¿›è¡Œæµ‹è¯•
3. ä¿®å¤é—®é¢˜å¹¶é‡æ–°æäº¤

#### å‘å¸ƒç‰ˆæœ¬
1. åˆå¹¶æ‰€æœ‰åŠŸèƒ½åˆ°mainåˆ†æ”¯
2. è¿è¡Œ"æ„å»ºAPK" â†’ é€‰æ‹©"release"
3. ä¸‹è½½Release APK
4. å‘å¸ƒåˆ°åº”ç”¨å•†åº—

## ğŸ¯ ä¸‹ä¸€æ­¥

### æœ¬åœ°å¼€å‘
1. **æµ‹è¯•åº”ç”¨**: åœ¨è®¾å¤‡ä¸Šè¿è¡Œå¹¶æµ‹è¯•æ‰€æœ‰åŠŸèƒ½
2. **é›†æˆFlClash**: ç¡®ä¿ä¸FlClashä»£ç†å¼•æ“æ­£ç¡®é›†æˆ
3. **æ€§èƒ½è°ƒä¼˜**: æ ¹æ®ä½¿ç”¨æƒ…å†µä¼˜åŒ–æ€§èƒ½
4. **ç”¨æˆ·æµ‹è¯•**: æ”¶é›†ç”¨æˆ·åé¦ˆå¹¶æ”¹è¿›

### GitHub Actions
1. **ç«‹å³æµ‹è¯•**: è¿è¡Œä¸€æ¬¡Debugæ„å»ºéªŒè¯ç¯å¢ƒ
2. **é…ç½®ç­¾å**: è®¾ç½®Releaseæ„å»ºæ‰€éœ€çš„ç­¾å
3. **è‡ªå®šä¹‰**: æ ¹æ®éœ€è¦ä¿®æ”¹å·¥ä½œæµé…ç½®
4. **ç›‘æ§**: å®šæœŸæ£€æŸ¥æ„å»ºçŠ¶æ€å’ŒæˆåŠŸç‡

## ğŸ“ æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š
1. æŸ¥çœ‹ `README.md` è·å–è¯¦ç»†æ–‡æ¡£
2. æ£€æŸ¥Flutterå®˜æ–¹æ–‡æ¡£
3. æœç´¢ç›¸å…³é—®é¢˜è§£å†³æ–¹æ¡ˆ

---

**ğŸ‰ æ­å–œï¼** ç°åœ¨ä½ å¯ä»¥æˆåŠŸæ„å»ºå’Œè¿è¡ŒFlClashæµè§ˆå™¨é›†æˆåº”ç”¨äº†ï¼